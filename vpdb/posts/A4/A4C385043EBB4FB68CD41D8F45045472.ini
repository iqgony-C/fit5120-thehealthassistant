[A4C385043EBB4FB68CD41D8F45045472]
post_date = "2021-09-01 06:28:28"
post_date_gmt = "2021-09-01 06:28:28"
post_content = "<html lang=\"en\">
    <head>
        <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">
        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">
        <style>
        .fa {
          margin-left: 12px;
        }
        </style>
    </head>
    <body>
        <!-- can directly use short code: [bmi heightPlaceholder=\"hi\" submit=\"Calculate\" result=\"Your BMI is %bmi%\"] -->
        <h2 style=\"color:black\">BMI calculator</h2>
        <form onsubmit=\"return false\">
            <label for=\"height-input\">Height (cm)</label><br>
            <input id=\"height-input\" type=\"number\" required placeholder=\"Please enter height(cm)\" min=\"1\" style='width:calc(100% - 40px)'><br><br>
            <label for=\"weight-input\">Weight (kg)</label><br>
            <input id=\"weight-input\" type=\"number\" required placeholder=\"Please enter weight(kg)\" min=\"1\" style='width:calc(100% - 40px)'/><br><br>
            <input id=\"bmi-submit-btn\" type=\"submit\" value=\"calculate\"/><br><br>
                <br>
        </form>
    </body>
</html>		
		[smartslider3 slider=\"2\"]		
<html xmlns=\"http://www.w3.org/1999/xhtml\"> 
<head> 
<title></title> 
<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /> 
<link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.3.0/dist/leaflet.css\" />
<style>
.leaflet-container .leaflet-control-search {
	position:relative;
	float:left;
	background:#fff;
	color:#1978cf;
	border: 2px solid rgba(0,0,0,0.2);
	background-clip: padding-box;
	-moz-border-radius: 4px;
	-webkit-border-radius: 4px;
	border-radius: 4px;
	background-color: rgba(255, 255, 255, 0.8);
	z-index:1000;	
	margin-left: 10px;
	margin-top: 10px;
}
.leaflet-control-search.search-exp {/*expanded*/
	background: #fff;
	border: 2px solid rgba(0,0,0,0.2);
	background-clip: padding-box;	
}
.leaflet-control-search .search-input {
	display:block;
	float:left;
	background: #fff;
	border:1px solid #666;
	border-radius:2px;
	height:22px;
	padding:0 20px 0 2px;
	margin:4px 0 4px 4px;
}
.leaflet-control-search.search-load .search-input {
	background: url('../images/loader.gif') no-repeat center right #fff;
}
.leaflet-control-search.search-load .search-cancel {
	visibility:hidden;
}
.leaflet-control-search .search-cancel {
	display:block;
	width:22px;
	height:22px;
	position:absolute;
	right:28px;
	margin:6px 0;
	background: url('../images/search-icon.png') no-repeat 0 -46px;
	text-decoration:none;
	filter: alpha(opacity=80);
	opacity: 0.8;		
}
.leaflet-control-search .search-cancel:hover {
	filter: alpha(opacity=100);
	opacity: 1;
}
.leaflet-control-search .search-cancel span {
	display:none;/* comment for cancel button imageless */
	font-size:18px;
	line-height:20px;
	color:#ccc;
	font-weight:bold;
}
.leaflet-control-search .search-cancel:hover span {
	color:#aaa;
}
.leaflet-control-search .search-button {
	display:block;
	float:left;
	width:30px;
	height:30px;	
	background: url('../images/search-icon.png') no-repeat 4px 4px #fff;
	border-radius:4px;
}
.leaflet-control-search .search-button:hover {
	background: url('../images/search-icon.png') no-repeat 4px -20px #fafafa;
}
.leaflet-control-search .search-tooltip {
	position:absolute;
	top:100%;
	left:0;
	float:left;
	list-style: none;
	padding-left: 0;
	min-width:120px;
	max-height:122px;
	box-shadow: 1px 1px 6px rgba(0,0,0,0.4);
	background-color: rgba(0, 0, 0, 0.25);
	z-index:1010;
	overflow-y:auto;
	overflow-x:hidden;
	cursor: pointer;
}
.leaflet-control-search .search-tip {
	margin:2px;
	padding:2px 4px;
	display:block;
	color:black;
	background: #eee;
	border-radius:.25em;
	text-decoration:none;	
	white-space:nowrap;
	vertical-align:center;
}
.leaflet-control-search .search-button:hover {
	background-color: #f4f4f4;
}
.leaflet-control-search .search-tip-select,
.leaflet-control-search .search-tip:hover {
	background-color: #fff;
}
.leaflet-control-search .search-alert {
	cursor:pointer;
	clear:both;
	font-size:.75em;
	margin-bottom:5px;
	padding:0 .25em;
	color:#e00;
	font-weight:bold;
	border-radius:.25em;
}
body {
	background:#b5d0d0;
	color:#285585;
	font-family:Arial;
}
body#home {
	background:url('images/back.png') no-repeat top left #b5d0d0;
	margin-left:150px;
}
a {
	color:#1978cf;
}
a:hover {
	color:#fff;
}
h2, h3, h4 {
	white-space:nowrap;
	margin:1em 0 0 0;
}
h3 a,
h3 a:hover {
	text-decoration:none;
}
#desc {
	float: left;
	margin-bottom: 1em;
	position: relative;
	white-space:nowrap;
	font-size:1em;
}
#map {
	border-radius:.125em;
	border:2px solid #1978cf;
	margin: 4px 0;
	float:left;
	width:600px;
	height:400px;	
}
ul {
	font-size:.85em;
	margin:0;
	padding:0;
}
li {
	margin:0 0 2px 18px;
}
#post-it {
	width:9em;
	height:9em;
	margin-left:2em;
	padding:1em;
	float:left;
	background:#fbf5bf;
	border:1px solid #c6bb58;
	box-shadow: 2px 2px 6px #999;
	color:#666;
}
#copy {
	position:fixed;
	z-index:1000;
	right:150px;
	top:-8px;
	font-size:.85em;
	padding:8px 8px 2px 8px;
	background: #323b44;
	border: 2px solid #737c85;		
	border-radius:.7em;
	opacity: 0.9;
	box-shadow:0 0 8px #5f7182;
	color:#eee
}
#copy a {
	color:#ccc;
	text-decoration:none
}
#copy a:hover {
	color:#fff
}
#ribbon {
	position: absolute;
	top: 0;
	right: 0;
	border: 0;
	filter: alpha(opacity=80);
	-khtml-opacity: .8;
	-moz-opacity: .8;
	opacity: .8;		
}
.contents {
	float:left;
	margin:0 2em 2em 0;
}
#comments {
	clear:both;
}
</style>
</head>
<body>
<h3><a href=\"../\"><big>â—„</big> Leaflet.Control.Search</a></h3>
<h4>AJAX Example(by jQuery): <em>search locations by Ajax request</em></h4>
<b>Search values:</b><br />
black, blue, cyan, darkblue, darkred, darkgray, gray, gree, red, yellow, white
<a href=\"https://opengeo.tech/\">Website</a> &bull; <a rel=\"author\" href=\"https://opengeo.tech/stefano-cudini/\">Stefano Cudini</a>
</body>
</html>"
post_title = "Test function"
post_excerpt = ""
post_status = "publish"
comment_status = "closed"
ping_status = "closed"
post_password = ""
post_name = "test-function"
to_ping = ""
pinged = ""
post_modified = "2021-10-07 11:44:25"
post_modified_gmt = "2021-10-07 11:44:25"
post_content_filtered = ""
guid = "http://339A003B-7FF3-467C-8866-3440D0272923"
menu_order = 0
post_type = "page"
post_mime_type = ""
vp_post_author = "E0AFC7122E2B4C92BDE68E75B17E3C33"
vp_post_parent = 0
_wp_page_template#EB0A44E1022F47C4A0774D09FB378520 = "TestFunction.php"
site-sidebar-layout#422EF1C9558B4EBEB45820D45EADD266 = "no-sidebar"
site-content-layout#4529A977A4E64CDB890EB390227DF25E = "page-builder"
theme-transparent-header-meta#DF1777ADEC214888B11A5F43FCCF63B4 = "default"
_elementor_edit_mode#E6D7F3D591B54AB990609DC1B05F99B5 = "builder"
_elementor_template_type#3D388468CE7E42A9A5B428F2DBBFCB30 = "wp-page"
_elementor_version#96D0CA6FCBD74EAD90EA0EB01D4F3B5C = "3.4.2"
_astra_content_layout_flag#F3869D3E912A405B8E4AE5C50C2B849E = "disabled"
site-post-title#DA8ADEA6E9DE494C840683D9E2F619BD = "disabled"
ast-title-bar-display#CD8A7F180C13416A8B2D056C8E212822 = "disabled"
ast-featured-img#87AD0E7E54124B989D6D6D25A0568049 = "disabled"
_elementor_page_settings#BA8CFDC849BF4E459AA8191C2FE11E2B = <<<serialized>>> <array>
_elementor_page_settings#BA8CFDC849BF4E459AA8191C2FE11E2B["background_position"] = ""
_elementor_page_settings#BA8CFDC849BF4E459AA8191C2FE11E2B["background_repeat"] = ""
_elementor_page_settings#BA8CFDC849BF4E459AA8191C2FE11E2B["background_size"] = ""
_elementor_page_settings#BA8CFDC849BF4E459AA8191C2FE11E2B["background_slideshow_background_size"] = ""
_elementor_page_settings#BA8CFDC849BF4E459AA8191C2FE11E2B["background_slideshow_background_position"] = ""
_elementor_data#5995B28189654475B8211C7C0A2AE599 = "[{\"id\":\"cb7b38f\",\"elType\":\"section\",\"settings\":[],\"elements\":[{\"id\":\"bb5dfc2\",\"elType\":\"column\",\"settings\":{\"_column_size\":100,\"_inline_size\":null},\"elements\":[{\"id\":\"1f1c54d\",\"elType\":\"widget\",\"settings\":{\"html\":\"<html lang=\\\"en\\\">\\r\\n    <head>\\r\\n        <link rel=\\\"stylesheet\\\" href=\\\"https:\\/\\/cdnjs.cloudflare.com\\/ajax\\/libs\\/font-awesome\\/4.7.0\\/css\\/font-awesome.min.css\\\">\\r\\n        <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1\\\">\\r\\n        <script src=\\\"https:\\/\\/ajax.googleapis.com\\/ajax\\/libs\\/jquery\\/3.5.1\\/jquery.min.js\\\"><\\/script>\\r\\n        <style>\\r\\n        .fa {\\r\\n          margin-left: 12px;\\r\\n        }\\r\\n        <\\/style>\\r\\n        <script>\\r\\n        const bmiCategorySteps = [18.5, 25.0, 30.0];\\r\\n        const bmiCategory = [\\\"Underweight\\\", \\\"Healthy\\\", \\\"Overweight\\\", \\\"Obese\\\"];\\r\\n        if (2<1) {\\r\\n        $(document).ready(function() {\\r\\n            $(\\\"#bmi-submit-btn\\\").click(function() {\\r\\n                $(\\\"#bmi-result\\\").text(\\\"123\\\");\\r\\n                $(\\\"#loading-icon\\\").toggle();\\r\\n            })\\r\\n        });\\r\\n        }\\r\\n        else {\\r\\n            $(document).ready(function() {\\r\\n            $(\\\"#bmi-submit-btn\\\").click(function() {\\r\\n                if (($(\\\"#height-input\\\").val() > 0) && ($(\\\"#weight-input\\\").val() > 0) ) {\\r\\n                    $(\\\"#loading-icon\\\").show();\\r\\n                    const settings = {\\r\\n                    \\t\\\"async\\\": true,\\r\\n                    \\t\\\"crossDomain\\\": true,\\r\\n                    \\t\\\"url\\\": \\\"https:\\/\\/fitness-api.p.rapidapi.com\\/fitness\\\",\\r\\n                    \\t\\\"method\\\": \\\"POST\\\",\\r\\n                    \\t\\\"headers\\\": {\\r\\n                    \\t\\t\\\"content-type\\\": \\\"application\\/x-www-form-urlencoded\\\",\\r\\n                    \\t\\t\\\"x-rapidapi-host\\\": \\\"fitness-api.p.rapidapi.com\\\",\\r\\n                    \\t\\t\\\"x-rapidapi-key\\\": \\\"a406d45febmsha149c8a9d1dd650p10b9d2jsn3701c66f0280\\\"\\r\\n                    \\t},\\r\\n                    \\t\\\"data\\\": {\\r\\n                    \\t\\t\\\"height\\\": $(\\\"#height-input\\\").val(),\\r\\n                    \\t\\t\\\"weight\\\": $(\\\"#weight-input\\\").val()\\r\\n                    \\t}\\r\\n                    };\\r\\n                    \\r\\n                    $.ajax(settings).done(function (response) {\\r\\n                        $(\\\"#loading-icon\\\").hide();\\r\\n                        console.log(response);\\r\\n                    \\tconsole.log(response['bodyMassIndex']['value']);\\r\\n                    \\t\\r\\n                    \\tvar bmi = response['bodyMassIndex']['value'];\\r\\n                    \\tvar resultCategory = \\\"\\\";\\r\\n                    \\tvar resultColor = \\\"\\\";\\r\\n                    \\tif (bmi > 0) {\\r\\n                        \\t$(\\\"#bmi-result-content\\\").html(\\\"<span>Your BMI is: <\\/span>\\\");\\r\\n                        \\t\\r\\n                        \\tfor (let i = 0; i < bmiCategorySteps.length; i++) {\\r\\n                        \\t    if (bmi < bmiCategorySteps[i]) {\\r\\n                        \\t        resultCategory = bmiCategory[i];\\r\\n                        \\t        console.log(resultCategory);\\r\\n                        \\t        break;\\r\\n                        \\t    } else if (i == 2) {\\r\\n                        \\t        resultCategory = bmiCategory[i + 1];\\r\\n                        \\t    }\\r\\n                        \\t}\\r\\n                        \\t\\r\\n                        \\tswitch (resultCategory) {\\r\\n                                case bmiCategory[0]:\\r\\n                                    resultColor = \\\"chocolate\\\";\\r\\n                                    $(\\\"#underweight-recommendation\\\").show();\\r\\n                                    $(\\\"#healthy-recommendation\\\").hide();\\r\\n                                    $(\\\"#overweight-recommendation\\\").hide();\\r\\n                                    $(\\\"#obese-recommendation\\\").hide();\\r\\n                                    break;\\r\\n                                case bmiCategory[1]:\\r\\n                                    resultColor = \\\"green\\\";\\r\\n                                    $(\\\"#underweight-recommendation\\\").hide();\\r\\n                                    $(\\\"#healthy-recommendation\\\").show();\\r\\n                                    $(\\\"#overweight-recommendation\\\").hide();\\r\\n                                    $(\\\"#obese-recommendation\\\").hide();\\r\\n                                    break;\\r\\n                                case bmiCategory[2]:\\r\\n                                    resultColor = \\\"orange\\\";\\r\\n                                    $(\\\"#underweight-recommendation\\\").hide();\\r\\n                                    $(\\\"#healthy-recommendation\\\").hide();\\r\\n                                    $(\\\"#overweight-recommendation\\\").show();\\r\\n                                    $(\\\"#obese-recommendation\\\").hide();\\r\\n                                    break;\\r\\n                                case bmiCategory[3]:\\r\\n                                    resultColor = \\\"red\\\";\\r\\n                                    $(\\\"#underweight-recommendation\\\").hide();\\r\\n                                    $(\\\"#healthy-recommendation\\\").hide();\\r\\n                                    $(\\\"#overweight-recommendation\\\").hide();\\r\\n                                    $(\\\"#obese-recommendation\\\").show();\\r\\n                                    break;\\r\\n                            }\\r\\n                        \\t\\r\\n                            $(\\\"#bmi-result-bumber\\\").text(response['bodyMassIndex']['value']).css({\\r\\n                                \\\"font-size\\\":\\\"30px\\\",\\r\\n                                \\\"color\\\":resultColor\\r\\n                            });\\r\\n                            \\r\\n                            \\r\\n                            $(\\\"#bmi-result-category\\\").html(\\\"<span>Your result is <b>\\\" + resultCategory + \\\"<\\/b>.<\\/span>\\\");\\r\\n                            \\r\\n                    \\t}\\r\\n                    });\\r\\n                }\\r\\n            })\\r\\n        });\\r\\n        }\\r\\n        <\\/script>\\r\\n    <\\/head>\\r\\n    \\r\\n    <body>\\r\\n        <!-- can directly use short code: [bmi heightPlaceholder=\\\"hi\\\" submit=\\\"Calculate\\\" result=\\\"Your BMI is %bmi%\\\"] -->\\r\\n        <h2 style=\\\"color:black\\\">BMI calculator<\\/h2>\\r\\n        <form onsubmit=\\\"return false\\\">\\r\\n            <label for=\\\"height-input\\\">Height (cm)<\\/label><br>\\r\\n            <input id=\\\"height-input\\\" type=\\\"number\\\" required placeholder=\\\"Please enter height(cm)\\\" min=\\\"1\\\" style='width:calc(100% - 40px)'><br><br>\\r\\n            <label for=\\\"weight-input\\\">Weight (kg)<\\/label><br>\\r\\n            <input id=\\\"weight-input\\\" type=\\\"number\\\" required placeholder=\\\"Please enter weight(kg)\\\" min=\\\"1\\\" style='width:calc(100% - 40px)'\\/><br><br>\\r\\n            \\r\\n            <input id=\\\"bmi-submit-btn\\\" type=\\\"submit\\\" value=\\\"calculate\\\"\\/><span id=\\\"loading-icon\\\" hidden=\\\"\\\"><i class=\\\"fa fa-spinner fa-spin\\\"><\\/i><\\/span><br><br>\\r\\n            <div id=\\\"bmi-result\\\">\\r\\n                <span id=\\\"bmi-result-content\\\"><\\/span><span id=\\\"bmi-result-bumber\\\"><\\/span><br>\\r\\n                <span id=\\\"bmi-result-category\\\"><\\/span>\\r\\n            <\\/div>\\r\\n        <\\/form>\\r\\n    <\\/body>\\r\\n<\\/html>\"},\"elements\":[],\"widgetType\":\"html\"}],\"isInner\":false}],\"isInner\":false},{\"id\":\"9ca3b26\",\"elType\":\"section\",\"settings\":[],\"elements\":[{\"id\":\"8385ac6\",\"elType\":\"column\",\"settings\":{\"_column_size\":100,\"_inline_size\":null},\"elements\":[{\"id\":\"6fa04ae\",\"elType\":\"widget\",\"settings\":{\"shortcode\":\"[smartslider3 slider=\\\"2\\\"]\"},\"elements\":[],\"widgetType\":\"shortcode\"}],\"isInner\":false}],\"isInner\":false},{\"id\":\"61b4233\",\"elType\":\"section\",\"settings\":[],\"elements\":[{\"id\":\"091a973\",\"elType\":\"column\",\"settings\":{\"_column_size\":100,\"_inline_size\":null},\"elements\":[{\"id\":\"bdd2b5a\",\"elType\":\"widget\",\"settings\":{\"html\":\"\\r\\n<html xmlns=\\\"http:\\/\\/www.w3.org\\/1999\\/xhtml\\\"> \\r\\n<head> \\r\\n<title><\\/title> \\r\\n<meta http-equiv=\\\"Content-Type\\\" content=\\\"text\\/html; charset=utf-8\\\" \\/> \\r\\n\\r\\n<link rel=\\\"stylesheet\\\" href=\\\"https:\\/\\/unpkg.com\\/leaflet@1.3.0\\/dist\\/leaflet.css\\\" \\/>\\r\\n\\r\\n<style>\\r\\n     \\r\\n.leaflet-container .leaflet-control-search {\\r\\n\\tposition:relative;\\r\\n\\tfloat:left;\\r\\n\\tbackground:#fff;\\r\\n\\tcolor:#1978cf;\\r\\n\\tborder: 2px solid rgba(0,0,0,0.2);\\r\\n\\tbackground-clip: padding-box;\\r\\n\\t-moz-border-radius: 4px;\\r\\n\\t-webkit-border-radius: 4px;\\r\\n\\tborder-radius: 4px;\\r\\n\\tbackground-color: rgba(255, 255, 255, 0.8);\\r\\n\\tz-index:1000;\\t\\r\\n\\tmargin-left: 10px;\\r\\n\\tmargin-top: 10px;\\r\\n}\\r\\n.leaflet-control-search.search-exp {\\/*expanded*\\/\\r\\n\\tbackground: #fff;\\r\\n\\tborder: 2px solid rgba(0,0,0,0.2);\\r\\n\\tbackground-clip: padding-box;\\t\\r\\n}\\r\\n.leaflet-control-search .search-input {\\r\\n\\tdisplay:block;\\r\\n\\tfloat:left;\\r\\n\\tbackground: #fff;\\r\\n\\tborder:1px solid #666;\\r\\n\\tborder-radius:2px;\\r\\n\\theight:22px;\\r\\n\\tpadding:0 20px 0 2px;\\r\\n\\tmargin:4px 0 4px 4px;\\r\\n}\\r\\n.leaflet-control-search.search-load .search-input {\\r\\n\\tbackground: url('..\\/images\\/loader.gif') no-repeat center right #fff;\\r\\n}\\r\\n.leaflet-control-search.search-load .search-cancel {\\r\\n\\tvisibility:hidden;\\r\\n}\\r\\n.leaflet-control-search .search-cancel {\\r\\n\\tdisplay:block;\\r\\n\\twidth:22px;\\r\\n\\theight:22px;\\r\\n\\tposition:absolute;\\r\\n\\tright:28px;\\r\\n\\tmargin:6px 0;\\r\\n\\tbackground: url('..\\/images\\/search-icon.png') no-repeat 0 -46px;\\r\\n\\ttext-decoration:none;\\r\\n\\tfilter: alpha(opacity=80);\\r\\n\\topacity: 0.8;\\t\\t\\r\\n}\\r\\n.leaflet-control-search .search-cancel:hover {\\r\\n\\tfilter: alpha(opacity=100);\\r\\n\\topacity: 1;\\r\\n}\\r\\n.leaflet-control-search .search-cancel span {\\r\\n\\tdisplay:none;\\/* comment for cancel button imageless *\\/\\r\\n\\tfont-size:18px;\\r\\n\\tline-height:20px;\\r\\n\\tcolor:#ccc;\\r\\n\\tfont-weight:bold;\\r\\n}\\r\\n.leaflet-control-search .search-cancel:hover span {\\r\\n\\tcolor:#aaa;\\r\\n}\\r\\n.leaflet-control-search .search-button {\\r\\n\\tdisplay:block;\\r\\n\\tfloat:left;\\r\\n\\twidth:30px;\\r\\n\\theight:30px;\\t\\r\\n\\tbackground: url('..\\/images\\/search-icon.png') no-repeat 4px 4px #fff;\\r\\n\\tborder-radius:4px;\\r\\n}\\r\\n.leaflet-control-search .search-button:hover {\\r\\n\\tbackground: url('..\\/images\\/search-icon.png') no-repeat 4px -20px #fafafa;\\r\\n}\\r\\n.leaflet-control-search .search-tooltip {\\r\\n\\tposition:absolute;\\r\\n\\ttop:100%;\\r\\n\\tleft:0;\\r\\n\\tfloat:left;\\r\\n\\tlist-style: none;\\r\\n\\tpadding-left: 0;\\r\\n\\tmin-width:120px;\\r\\n\\tmax-height:122px;\\r\\n\\tbox-shadow: 1px 1px 6px rgba(0,0,0,0.4);\\r\\n\\tbackground-color: rgba(0, 0, 0, 0.25);\\r\\n\\tz-index:1010;\\r\\n\\toverflow-y:auto;\\r\\n\\toverflow-x:hidden;\\r\\n\\tcursor: pointer;\\r\\n}\\r\\n.leaflet-control-search .search-tip {\\r\\n\\tmargin:2px;\\r\\n\\tpadding:2px 4px;\\r\\n\\tdisplay:block;\\r\\n\\tcolor:black;\\r\\n\\tbackground: #eee;\\r\\n\\tborder-radius:.25em;\\r\\n\\ttext-decoration:none;\\t\\r\\n\\twhite-space:nowrap;\\r\\n\\tvertical-align:center;\\r\\n}\\r\\n.leaflet-control-search .search-button:hover {\\r\\n\\tbackground-color: #f4f4f4;\\r\\n}\\r\\n.leaflet-control-search .search-tip-select,\\r\\n.leaflet-control-search .search-tip:hover {\\r\\n\\tbackground-color: #fff;\\r\\n}\\r\\n.leaflet-control-search .search-alert {\\r\\n\\tcursor:pointer;\\r\\n\\tclear:both;\\r\\n\\tfont-size:.75em;\\r\\n\\tmargin-bottom:5px;\\r\\n\\tpadding:0 .25em;\\r\\n\\tcolor:#e00;\\r\\n\\tfont-weight:bold;\\r\\n\\tborder-radius:.25em;\\r\\n}\\r\\n\\r\\nbody {\\r\\n\\tbackground:#b5d0d0;\\r\\n\\tcolor:#285585;\\r\\n\\tfont-family:Arial;\\r\\n}\\r\\nbody#home {\\r\\n\\tbackground:url('images\\/back.png') no-repeat top left #b5d0d0;\\r\\n\\tmargin-left:150px;\\r\\n}\\r\\n\\r\\na {\\r\\n\\tcolor:#1978cf;\\r\\n}\\r\\na:hover {\\r\\n\\tcolor:#fff;\\r\\n}\\r\\nh2, h3, h4 {\\r\\n\\twhite-space:nowrap;\\r\\n\\tmargin:1em 0 0 0;\\r\\n}\\r\\nh3 a,\\r\\nh3 a:hover {\\r\\n\\ttext-decoration:none;\\r\\n}\\r\\n#desc {\\r\\n\\tfloat: left;\\r\\n\\tmargin-bottom: 1em;\\r\\n\\tposition: relative;\\r\\n\\twhite-space:nowrap;\\r\\n\\tfont-size:1em;\\r\\n}\\r\\n#map {\\r\\n\\tborder-radius:.125em;\\r\\n\\tborder:2px solid #1978cf;\\r\\n\\tmargin: 4px 0;\\r\\n\\tfloat:left;\\r\\n\\twidth:600px;\\r\\n\\theight:400px;\\t\\r\\n}\\r\\nul {\\r\\n\\tfont-size:.85em;\\r\\n\\tmargin:0;\\r\\n\\tpadding:0;\\r\\n}\\r\\nli {\\r\\n\\tmargin:0 0 2px 18px;\\r\\n}\\r\\n#post-it {\\r\\n\\twidth:9em;\\r\\n\\theight:9em;\\r\\n\\tmargin-left:2em;\\r\\n\\tpadding:1em;\\r\\n\\tfloat:left;\\r\\n\\tbackground:#fbf5bf;\\r\\n\\tborder:1px solid #c6bb58;\\r\\n\\tbox-shadow: 2px 2px 6px #999;\\r\\n\\tcolor:#666;\\r\\n}\\r\\n#copy {\\r\\n\\tposition:fixed;\\r\\n\\tz-index:1000;\\r\\n\\tright:150px;\\r\\n\\ttop:-8px;\\r\\n\\tfont-size:.85em;\\r\\n\\tpadding:8px 8px 2px 8px;\\r\\n\\tbackground: #323b44;\\r\\n\\tborder: 2px solid #737c85;\\t\\t\\r\\n\\tborder-radius:.7em;\\r\\n\\topacity: 0.9;\\r\\n\\tbox-shadow:0 0 8px #5f7182;\\r\\n\\tcolor:#eee\\r\\n}\\r\\n#copy a {\\r\\n\\tcolor:#ccc;\\r\\n\\ttext-decoration:none\\r\\n}\\r\\n#copy a:hover {\\r\\n\\tcolor:#fff\\r\\n}\\r\\n#ribbon {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 0;\\r\\n\\tright: 0;\\r\\n\\tborder: 0;\\r\\n\\tfilter: alpha(opacity=80);\\r\\n\\t-khtml-opacity: .8;\\r\\n\\t-moz-opacity: .8;\\r\\n\\topacity: .8;\\t\\t\\r\\n}\\r\\n.contents {\\r\\n\\tfloat:left;\\r\\n\\tmargin:0 2em 2em 0;\\r\\n}\\r\\n#comments {\\r\\n\\tclear:both;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n<\\/style>\\r\\n<\\/head>\\r\\n\\r\\n<body>\\r\\n<h3><a href=\\\"..\\/\\\"><big>\\u25c4<\\/big> Leaflet.Control.Search<\\/a><\\/h3>\\r\\n\\r\\n<h4>AJAX Example(by jQuery): <em>search locations by Ajax request<\\/em><\\/h4>\\r\\n<div id=\\\"map\\\"><\\/div>\\r\\n\\r\\n<div id=\\\"post-it\\\">\\r\\n<b>Search values:<\\/b><br \\/>\\r\\nblack, blue, cyan, darkblue, darkred, darkgray, gray, gree, red, yellow, white\\r\\n<\\/div>\\r\\n\\r\\n<script src=\\\"https:\\/\\/unpkg.com\\/jquery@3.3.1\\/dist\\/jquery.js\\\"><\\/script>\\r\\n<script src=\\\"https:\\/\\/unpkg.com\\/leaflet@1.3.0\\/dist\\/leaflet.js\\\"><\\/script>\\r\\n<script>\\r\\n    \\/*\\r\\n\\tName\\t\\t\\t\\t\\tData passed\\t\\t\\t   Description\\r\\n\\r\\n\\tManaged Events:\\r\\n\\t search:locationfound\\t{latlng, title, layer} fired after moved and show markerLocation\\r\\n\\t search:expanded\\t\\t{}\\t\\t\\t\\t\\t   fired after control was expanded\\r\\n\\t search:collapsed\\t\\t{}\\t\\t\\t\\t\\t   fired after control was collapsed\\r\\n \\t search:cancel\\t\\t\\t{}\\t\\t\\t\\t\\t   fired after cancel button clicked\\r\\n\\r\\n\\tPublic methods:\\r\\n\\t setLayer()\\t\\t\\t\\tL.LayerGroup()         set layer search at runtime\\r\\n\\t showAlert()            'Text message'         show alert message\\r\\n\\t searchText()\\t\\t\\t'Text searched'        search text by external code\\r\\n*\\/\\r\\n\\r\\n\\/\\/TODO implement can do research on multiple sources layers and remote\\t\\t\\r\\n\\/\\/TODO history: false,\\t\\t\\/\\/show latest searches in tooltip\\t\\t\\r\\n\\/\\/FIXME option condition problem {autoCollapse: true, markerLocation: true} not show location\\r\\n\\/\\/FIXME option condition problem {autoCollapse: false }\\r\\n\\/\\/\\r\\n\\/\\/TODO here insert function  search inputText FIRST in _recordsCache keys and if not find results.. \\r\\n\\/\\/  run one of callbacks search(sourceData,jsonpUrl or options.layer) and run this.showTooltip\\r\\n\\/\\/\\r\\n\\/\\/TODO change structure of _recordsCache\\r\\n\\/\\/\\tlike this: _recordsCache = {\\\"text-key1\\\": {loc:[lat,lng], ..other attributes.. }, {\\\"text-key2\\\": {loc:[lat,lng]}...}, ...}\\r\\n\\/\\/\\tin this mode every record can have a free structure of attributes, only 'loc' is required\\r\\n\\/\\/TODO important optimization!!! always append data in this._recordsCache\\r\\n\\/\\/  now _recordsCache content is emptied and replaced with new data founded\\r\\n\\/\\/  always appending data on _recordsCache give the possibility of caching ajax, jsonp and layersearch!\\r\\n\\/\\/\\r\\n\\/\\/TODO here insert function  search inputText FIRST in _recordsCache keys and if not find results.. \\r\\n\\/\\/  run one of callbacks search(sourceData,jsonpUrl or options.layer) and run this.showTooltip\\r\\n\\/\\/\\r\\n\\/\\/TODO change structure of _recordsCache\\r\\n\\/\\/\\tlike this: _recordsCache = {\\\"text-key1\\\": {loc:[lat,lng], ..other attributes.. }, {\\\"text-key2\\\": {loc:[lat,lng]}...}, ...}\\r\\n\\/\\/\\tin this way every record can have a free structure of attributes, only 'loc' is required\\r\\n\\r\\n(function (factory) {\\r\\n    if(typeof define === 'function' && define.amd) {\\r\\n    \\/\\/AMD\\r\\n        define(['leaflet'], factory);\\r\\n    } else if(typeof module !== 'undefined') {\\r\\n    \\/\\/ Node\\/CommonJS\\r\\n        module.exports = factory(require('leaflet'));\\r\\n    } else {\\r\\n    \\/\\/ Browser globals\\r\\n        if(typeof window.L === 'undefined')\\r\\n            throw 'Leaflet must be loaded first';\\r\\n        factory(window.L);\\r\\n    }\\r\\n})(function (L) {\\r\\n\\r\\n\\r\\nL.Control.Search = L.Control.extend({\\r\\n\\t\\r\\n\\tincludes: L.version[0]==='1' ? L.Evented.prototype : L.Mixin.Events,\\r\\n\\r\\n\\toptions: {\\r\\n\\t\\turl: '',\\t\\t\\t\\t\\t\\t\\/\\/url for search by ajax request, ex: \\\"search.php?q={s}\\\". Can be function to returns string for dynamic parameter setting\\r\\n\\t\\tlayer: null,\\t\\t\\t\\t\\t\\/\\/layer where search markers(is a L.LayerGroup)\\t\\t\\t\\t\\r\\n\\t\\tsourceData: null,\\t\\t\\t\\t\\/\\/function to fill _recordsCache, passed searching text by first param and callback in second\\t\\t\\t\\t\\r\\n\\t\\t\\/\\/TODO implements uniq option 'sourceData' to recognizes source type: url,array,callback or layer\\t\\t\\t\\t\\r\\n\\t\\tjsonpParam: null,\\t\\t\\t\\t\\/\\/jsonp param name for search by jsonp service, ex: \\\"callback\\\"\\r\\n\\t\\tpropertyLoc: 'loc',\\t\\t\\t\\t\\/\\/field for remapping location, using array: ['latname','lonname'] for select double fields(ex. ['lat','lon'] ) support dotted format: 'prop.subprop.title'\\r\\n\\t\\tpropertyName: 'title',\\t\\t\\t\\/\\/property in marker.options(or feature.properties for vector layer) trough filter elements in layer,\\r\\n\\t\\tformatData: null,\\t\\t\\t\\t\\/\\/callback for reformat all data from source to indexed data object\\r\\n\\t\\tfilterData: null,\\t\\t\\t\\t\\/\\/callback for filtering data from text searched, params: textSearch, allRecords\\r\\n\\t\\tmoveToLocation: null,\\t\\t\\t\\/\\/callback run on location found, params: latlng, title, map\\r\\n\\t\\tbuildTip: null,\\t\\t\\t\\t\\t\\/\\/function to return row tip html node(or html string), receive text tooltip in first param\\r\\n\\t\\tcontainer: '',\\t\\t\\t\\t\\t\\/\\/container id to insert Search Control\\t\\t\\r\\n\\t\\tzoom: null,\\t\\t\\t\\t\\t\\t\\/\\/default zoom level for move to location\\r\\n\\t\\tminLength: 1,\\t\\t\\t\\t\\t\\/\\/minimal text length for autocomplete\\r\\n\\t\\tinitial: true,\\t\\t\\t\\t\\t\\/\\/search elements only by initial text\\r\\n\\t\\tcasesensitive: false,\\t\\t\\t\\/\\/search elements in case sensitive text\\r\\n\\t\\tautoType: true,\\t\\t\\t\\t\\t\\/\\/complete input with first suggested result and select this filled-in text.\\r\\n\\t\\tdelayType: 400,\\t\\t\\t\\t\\t\\/\\/delay while typing for show tooltip\\r\\n\\t\\ttooltipLimit: -1,\\t\\t\\t\\t\\/\\/limit max results to show in tooltip. -1 for no limit, 0 for no results\\r\\n\\t\\ttipAutoSubmit: true,\\t\\t\\t\\/\\/auto map panTo when click on tooltip\\r\\n\\t\\tfirstTipSubmit: false,\\t\\t\\t\\/\\/auto select first result con enter click\\r\\n\\t\\tautoResize: true,\\t\\t\\t\\t\\/\\/autoresize on input change\\r\\n\\t\\tcollapsed: true,\\t\\t\\t\\t\\/\\/collapse search control at startup\\r\\n\\t\\tautoCollapse: false,\\t\\t\\t\\/\\/collapse search control after submit(on button or on tips if enabled tipAutoSubmit)\\r\\n\\t\\tautoCollapseTime: 1200,\\t\\t\\t\\/\\/delay for autoclosing alert and collapse after blur\\r\\n\\t\\ttextErr: 'Location not found',\\t\\/\\/error message\\r\\n\\t\\ttextCancel: 'Cancel',\\t\\t    \\/\\/title in cancel button\\t\\t\\r\\n\\t\\ttextPlaceholder: 'Search...',   \\/\\/placeholder value\\t\\t\\t\\r\\n\\t\\thideMarkerOnCollapse: false,    \\/\\/remove circle and marker on search control collapsed\\t\\t\\r\\n\\t\\tposition: 'topleft',\\t\\t\\r\\n\\t\\tmarker: {\\t\\t\\t\\t\\t\\t\\/\\/custom L.Marker or false for hide\\r\\n\\t\\t\\ticon: false,\\t\\t\\t\\t\\/\\/custom L.Icon for maker location or false for hide\\r\\n\\t\\t\\tanimate: true,\\t\\t\\t\\t\\/\\/animate a circle over location found\\r\\n\\t\\t\\tcircle: {\\t\\t\\t\\t\\t\\/\\/draw a circle in location found\\r\\n\\t\\t\\t\\tradius: 10,\\r\\n\\t\\t\\t\\tweight: 3,\\r\\n\\t\\t\\t\\tcolor: '#e03',\\r\\n\\t\\t\\t\\tstroke: true,\\r\\n\\t\\t\\t\\tfill: false\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\r\\n\\t_getPath: function(obj, prop) {\\r\\n\\t\\tvar parts = prop.split('.'),\\r\\n\\t\\t\\tlast = parts.pop(),\\r\\n\\t\\t\\tlen = parts.length,\\r\\n\\t\\t\\tcur = parts[0],\\r\\n\\t\\t\\ti = 1;\\r\\n\\r\\n\\t\\tif(len > 0)\\r\\n\\t\\t\\twhile((obj = obj[cur]) && i < len)\\r\\n\\t\\t\\t\\tcur = parts[i++];\\r\\n\\r\\n\\t\\tif(obj)\\r\\n\\t\\t\\treturn obj[last];\\r\\n\\t},\\r\\n\\r\\n\\t_isObject: function(obj) {\\r\\n\\t\\treturn Object.prototype.toString.call(obj) === \\\"[object Object]\\\";\\r\\n\\t},\\r\\n\\r\\n\\tinitialize: function(options) {\\r\\n\\t\\tL.Util.setOptions(this, options || {});\\r\\n\\t\\tthis._inputMinSize = this.options.textPlaceholder ? this.options.textPlaceholder.length : 10;\\r\\n\\t\\tthis._layer = this.options.layer || new L.LayerGroup();\\r\\n\\t\\tthis._filterData = this.options.filterData || this._defaultFilterData;\\r\\n\\t\\tthis._formatData = this.options.formatData || this._defaultFormatData;\\r\\n\\t\\tthis._moveToLocation = this.options.moveToLocation || this._defaultMoveToLocation;\\r\\n\\t\\tthis._autoTypeTmp = this.options.autoType;\\t\\/\\/useful for disable autoType temporarily in delete\\/backspace keydown\\r\\n\\t\\tthis._countertips = 0;\\t\\t\\/\\/number of tips items\\r\\n\\t\\tthis._recordsCache = {};\\t\\/\\/key,value table! to store locations! format: key,latlng\\r\\n\\t\\tthis._curReq = null;\\r\\n\\t},\\r\\n\\r\\n\\tonAdd: function (map) {\\r\\n\\t\\tthis._map = map;\\r\\n\\t\\tthis._container = L.DomUtil.create('div', 'leaflet-control-search');\\r\\n\\t\\tthis._input = this._createInput(this.options.textPlaceholder, 'search-input');\\r\\n\\t\\tthis._tooltip = this._createTooltip('search-tooltip');\\r\\n\\t\\tthis._cancel = this._createCancel(this.options.textCancel, 'search-cancel');\\r\\n\\t\\tthis._button = this._createButton(this.options.textPlaceholder, 'search-button');\\r\\n\\t\\tthis._alert = this._createAlert('search-alert');\\r\\n\\r\\n\\t\\tif(this.options.collapsed===false)\\r\\n\\t\\t\\tthis.expand(this.options.collapsed);\\r\\n\\r\\n\\t\\tif(this.options.marker) {\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tif(this.options.marker instanceof L.Marker || this.options.marker instanceof L.CircleMarker)\\r\\n\\t\\t\\t\\tthis._markerSearch = this.options.marker;\\r\\n\\r\\n\\t\\t\\telse if(this._isObject(this.options.marker))\\r\\n\\t\\t\\t\\tthis._markerSearch = new L.Control.Search.Marker([0,0], this.options.marker);\\r\\n\\r\\n\\t\\t\\tthis._markerSearch._isMarkerSearch = true;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tthis.setLayer( this._layer );\\r\\n\\r\\n\\t\\tmap.on({\\r\\n\\t\\t\\t\\/\\/ \\t\\t'layeradd': this._onLayerAddRemove,\\r\\n\\t\\t\\t\\/\\/ \\t\\t'layerremove': this._onLayerAddRemove\\r\\n\\t\\t\\t'resize': this._handleAutoresize\\r\\n\\t\\t\\t}, this);\\r\\n\\t\\treturn this._container;\\r\\n\\t},\\r\\n\\taddTo: function (map) {\\r\\n\\r\\n\\t\\tif(this.options.container) {\\r\\n\\t\\t\\tthis._container = this.onAdd(map);\\r\\n\\t\\t\\tthis._wrapper = L.DomUtil.get(this.options.container);\\r\\n\\t\\t\\tthis._wrapper.style.position = 'relative';\\r\\n\\t\\t\\tthis._wrapper.appendChild(this._container);\\r\\n\\t\\t}\\r\\n\\t\\telse\\r\\n\\t\\t\\tL.Control.prototype.addTo.call(this, map);\\r\\n\\r\\n\\t\\treturn this;\\r\\n\\t},\\r\\n\\r\\n\\tonRemove: function(map) {\\r\\n\\t\\tthis._recordsCache = {};\\r\\n\\t\\t\\/\\/ map.off({\\r\\n\\t\\t\\/\\/ \\t\\t'layeradd': this._onLayerAddRemove,\\r\\n\\t\\t\\/\\/ \\t\\t'layerremove': this._onLayerAddRemove\\r\\n\\t\\t\\/\\/ \\t}, this);\\r\\n\\t\\tmap.off({\\r\\n\\t\\t\\t\\/\\/ \\t\\t'layeradd': this._onLayerAddRemove,\\r\\n\\t\\t\\t\\/\\/ \\t\\t'layerremove': this._onLayerAddRemove\\r\\n\\t\\t\\t'resize': this._handleAutoresize\\r\\n\\t\\t\\t}, this);\\r\\n\\t},\\r\\n\\r\\n\\t\\/\\/ _onLayerAddRemove: function(e) {\\r\\n\\t\\/\\/ \\t\\/\\/without this, run setLayer also for each Markers!! to optimize!\\r\\n\\t\\/\\/ \\tif(e.layer instanceof L.LayerGroup)\\r\\n\\t\\/\\/ \\t\\tif( L.stamp(e.layer) != L.stamp(this._layer) )\\r\\n\\t\\/\\/ \\t\\t\\tthis.setLayer(e.layer);\\r\\n\\t\\/\\/ },\\r\\n\\r\\n\\tsetLayer: function(layer) {\\t\\/\\/set search layer at runtime\\r\\n\\t\\t\\/\\/this.options.layer = layer; \\/\\/setting this, run only this._recordsFromLayer()\\r\\n\\t\\tthis._layer = layer;\\r\\n\\t\\tthis._layer.addTo(this._map);\\r\\n\\t\\treturn this;\\r\\n\\t},\\r\\n\\t\\r\\n\\tshowAlert: function(text) {\\r\\n\\t\\tvar self = this;\\r\\n\\t\\ttext = text || this.options.textErr;\\r\\n\\t\\tthis._alert.style.display = 'block';\\r\\n\\t\\tthis._alert.innerHTML = text;\\r\\n\\t\\tclearTimeout(this.timerAlert);\\r\\n\\t\\t\\r\\n\\t\\tthis.timerAlert = setTimeout(function() {\\r\\n\\t\\t\\tself.hideAlert();\\r\\n\\t\\t},this.options.autoCollapseTime);\\r\\n\\t\\treturn this;\\r\\n\\t},\\r\\n\\t\\r\\n\\thideAlert: function() {\\r\\n\\t\\tthis._alert.style.display = 'none';\\r\\n\\t\\treturn this;\\r\\n\\t},\\r\\n\\t\\t\\r\\n\\tcancel: function() {\\r\\n\\t\\tthis._input.value = '';\\r\\n\\t\\tthis._handleKeypress({ keyCode: 8 });\\/\\/simulate backspace keypress\\r\\n\\t\\tthis._input.size = this._inputMinSize;\\r\\n\\t\\tthis._input.focus();\\r\\n\\t\\tthis._cancel.style.display = 'none';\\r\\n\\t\\tthis._hideTooltip();\\r\\n\\t\\tthis.fire('search:cancel');\\r\\n\\t\\treturn this;\\r\\n\\t},\\r\\n\\t\\r\\n\\texpand: function(toggle) {\\r\\n\\t\\ttoggle = typeof toggle === 'boolean' ? toggle : true;\\r\\n\\t\\tthis._input.style.display = 'block';\\r\\n\\t\\tL.DomUtil.addClass(this._container, 'search-exp');\\r\\n\\t\\tif ( toggle !== false ) {\\r\\n\\t\\t\\tthis._input.focus();\\r\\n\\t\\t\\tthis._map.on('dragstart click', this.collapse, this);\\r\\n\\t\\t}\\r\\n\\t\\tthis.fire('search:expanded');\\r\\n\\t\\treturn this;\\t\\r\\n\\t},\\r\\n\\r\\n\\tcollapse: function() {\\r\\n\\t\\tthis._hideTooltip();\\r\\n\\t\\tthis.cancel();\\r\\n\\t\\tthis._alert.style.display = 'none';\\r\\n\\t\\tthis._input.blur();\\r\\n\\t\\tif(this.options.collapsed)\\r\\n\\t\\t{\\r\\n\\t\\t\\tthis._input.style.display = 'none';\\r\\n\\t\\t\\tthis._cancel.style.display = 'none';\\t\\t\\t\\r\\n\\t\\t\\tL.DomUtil.removeClass(this._container, 'search-exp');\\t\\t\\r\\n\\t\\t\\tif (this.options.hideMarkerOnCollapse) {\\r\\n\\t\\t\\t\\tthis._map.removeLayer(this._markerSearch);\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tthis._map.off('dragstart click', this.collapse, this);\\r\\n\\t\\t}\\r\\n\\t\\tthis.fire('search:collapsed');\\r\\n\\t\\treturn this;\\r\\n\\t},\\r\\n\\t\\r\\n\\tcollapseDelayed: function() {\\t\\/\\/collapse after delay, used on_input blur\\r\\n\\t\\tvar self = this;\\r\\n\\t\\tif (!this.options.autoCollapse) return this;\\r\\n\\t\\tclearTimeout(this.timerCollapse);\\r\\n\\t\\tthis.timerCollapse = setTimeout(function() {\\r\\n\\t\\t\\tself.collapse();\\r\\n\\t\\t}, this.options.autoCollapseTime);\\r\\n\\t\\treturn this;\\t\\t\\r\\n\\t},\\r\\n\\r\\n\\tcollapseDelayedStop: function() {\\r\\n\\t\\tclearTimeout(this.timerCollapse);\\r\\n\\t\\treturn this;\\t\\t\\r\\n\\t},\\r\\n\\r\\n\\t\\/\\/\\/\\/start DOM creations\\r\\n\\t_createAlert: function(className) {\\r\\n\\t\\tvar alert = L.DomUtil.create('div', className, this._container);\\r\\n\\t\\talert.style.display = 'none';\\r\\n\\r\\n\\t\\tL.DomEvent\\r\\n\\t\\t\\t.on(alert, 'click', L.DomEvent.stop, this)\\r\\n\\t\\t\\t.on(alert, 'click', this.hideAlert, this);\\r\\n\\r\\n\\t\\treturn alert;\\r\\n\\t},\\r\\n\\r\\n\\t_createInput: function (text, className) {\\r\\n\\t\\tvar self = this;\\r\\n\\t\\tvar label = L.DomUtil.create('label', className, this._container);\\r\\n\\t\\tvar input = L.DomUtil.create('input', className, this._container);\\r\\n\\t\\tinput.type = 'text';\\r\\n\\t\\tinput.size = this._inputMinSize;\\r\\n\\t\\tinput.value = '';\\r\\n\\t\\tinput.autocomplete = 'off';\\r\\n\\t\\tinput.autocorrect = 'off';\\r\\n\\t\\tinput.autocapitalize = 'off';\\r\\n\\t\\tinput.placeholder = text;\\r\\n\\t\\tinput.style.display = 'none';\\r\\n\\t\\tinput.role = 'search';\\r\\n\\t\\tinput.id = input.role + input.type + input.size;\\r\\n\\t\\t\\r\\n\\t\\tlabel.htmlFor = input.id;\\r\\n\\t\\tlabel.style.display = 'none';\\r\\n\\t\\tlabel.value = text;\\r\\n\\r\\n\\t\\tL.DomEvent\\r\\n\\t\\t\\t.disableClickPropagation(input)\\r\\n\\t\\t\\t.on(input, 'keyup', this._handleKeypress, this)\\r\\n\\t\\t\\t.on(input, 'paste', function(e) {\\r\\n\\t\\t\\t\\tsetTimeout(function(e) {\\r\\n\\t\\t\\t\\t\\tself._handleKeypress(e);\\r\\n\\t\\t\\t\\t},10,e);\\r\\n\\t\\t\\t}, this)\\r\\n\\t\\t\\t.on(input, 'blur', this.collapseDelayed, this)\\r\\n\\t\\t\\t.on(input, 'focus', this.collapseDelayedStop, this);\\r\\n\\t\\t\\r\\n\\t\\treturn input;\\r\\n\\t},\\r\\n\\r\\n\\t_createCancel: function (title, className) {\\r\\n\\t\\tvar cancel = L.DomUtil.create('a', className, this._container);\\r\\n\\t\\tcancel.href = '#';\\r\\n\\t\\tcancel.title = title;\\r\\n\\t\\tcancel.style.display = 'none';\\r\\n\\t\\tcancel.innerHTML = \\\"<span>&otimes;<\\/span>\\\";\\/\\/imageless(see css)\\r\\n\\r\\n\\t\\tL.DomEvent\\r\\n\\t\\t\\t.on(cancel, 'click', L.DomEvent.stop, this)\\r\\n\\t\\t\\t.on(cancel, 'click', this.cancel, this);\\r\\n\\r\\n\\t\\treturn cancel;\\r\\n\\t},\\r\\n\\t\\r\\n\\t_createButton: function (title, className) {\\r\\n\\t\\tvar button = L.DomUtil.create('a', className, this._container);\\r\\n\\t\\tbutton.href = '#';\\r\\n\\t\\tbutton.title = title;\\r\\n\\r\\n\\t\\tL.DomEvent\\r\\n\\t\\t\\t.on(button, 'click', L.DomEvent.stop, this)\\r\\n\\t\\t\\t.on(button, 'click', this._handleSubmit, this)\\t\\t\\t\\r\\n\\t\\t\\t.on(button, 'focus', this.collapseDelayedStop, this)\\r\\n\\t\\t\\t.on(button, 'blur', this.collapseDelayed, this);\\r\\n\\r\\n\\t\\treturn button;\\r\\n\\t},\\r\\n\\r\\n\\t_createTooltip: function(className) {\\r\\n\\t\\tvar self = this;\\t\\t\\r\\n\\t\\tvar tool = L.DomUtil.create('ul', className, this._container);\\r\\n\\t\\ttool.style.display = 'none';\\r\\n\\t\\tL.DomEvent\\r\\n\\t\\t\\t.disableClickPropagation(tool)\\r\\n\\t\\t\\t.on(tool, 'blur', this.collapseDelayed, this)\\r\\n\\t\\t\\t.on(tool, 'mousewheel', function(e) {\\r\\n\\t\\t\\t\\tself.collapseDelayedStop();\\r\\n\\t\\t\\t\\tL.DomEvent.stopPropagation(e);\\/\\/disable zoom map\\r\\n\\t\\t\\t}, this)\\r\\n\\t\\t\\t.on(tool, 'mouseover', function(e) {\\r\\n\\t\\t\\t\\tself.collapseDelayedStop();\\r\\n\\t\\t\\t}, this);\\r\\n\\t\\treturn tool;\\r\\n\\t},\\r\\n\\r\\n\\t_createTip: function(text, val) {\\/\\/val is object in recordCache, usually is Latlng\\r\\n\\t\\tvar tip;\\r\\n\\t\\t\\r\\n\\t\\tif(this.options.buildTip)\\r\\n\\t\\t{\\r\\n\\t\\t\\ttip = this.options.buildTip.call(this, text, val); \\/\\/custom tip node or html string\\r\\n\\t\\t\\tif(typeof tip === 'string')\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\tvar tmpNode = L.DomUtil.create('div');\\r\\n\\t\\t\\t\\ttmpNode.innerHTML = tip;\\r\\n\\t\\t\\t\\ttip = tmpNode.firstChild;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t\\telse\\r\\n\\t\\t{\\r\\n\\t\\t\\ttip = L.DomUtil.create('li', '');\\r\\n\\t\\t\\ttip.innerHTML = text;\\r\\n\\t\\t}\\r\\n\\t\\t\\r\\n\\t\\tL.DomUtil.addClass(tip, 'search-tip');\\r\\n\\t\\ttip._text = text; \\/\\/value replaced in this._input and used by _autoType\\r\\n\\r\\n\\t\\tif(this.options.tipAutoSubmit)\\r\\n\\t\\t\\tL.DomEvent\\r\\n\\t\\t\\t\\t.disableClickPropagation(tip)\\t\\t\\r\\n\\t\\t\\t\\t.on(tip, 'click', L.DomEvent.stop, this)\\r\\n\\t\\t\\t\\t.on(tip, 'click', function(e) {\\r\\n\\t\\t\\t\\t\\tthis._input.value = text;\\r\\n\\t\\t\\t\\t\\tthis._handleAutoresize();\\r\\n\\t\\t\\t\\t\\tthis._input.focus();\\r\\n\\t\\t\\t\\t\\tthis._hideTooltip();\\t\\r\\n\\t\\t\\t\\t\\tthis._handleSubmit();\\r\\n\\t\\t\\t\\t}, this);\\r\\n\\r\\n\\t\\treturn tip;\\r\\n\\t},\\r\\n\\r\\n\\t\\/\\/\\/\\/\\/\\/end DOM creations\\r\\n\\r\\n\\t_getUrl: function(text) {\\r\\n\\t\\treturn (typeof this.options.url === 'function') ? this.options.url(text) : this.options.url;\\r\\n\\t},\\r\\n\\r\\n\\t_defaultFilterData: function(text, records) {\\r\\n\\t\\r\\n\\t\\tvar I, icase, regSearch, frecords = {};\\r\\n\\r\\n\\t\\ttext = text.replace(\\/[.*+?^${}()|[\\\\]\\\\\\\\]\\/g, '');  \\/\\/sanitize remove all special characters\\r\\n\\t\\tif(text==='')\\r\\n\\t\\t\\treturn [];\\r\\n\\r\\n\\t\\tI = this.options.initial ? '^' : '';  \\/\\/search only initial text\\r\\n\\t\\ticase = !this.options.casesensitive ? 'i' : undefined;\\r\\n\\r\\n\\t\\tregSearch = new RegExp(I + text, icase);\\r\\n\\r\\n\\t\\t\\/\\/TODO use .filter or .map\\r\\n\\t\\tfor (let key in records) {\\r\\n\\t\\t\\tif( regSearch.test(key) )\\r\\n\\t\\t\\t\\tfrecords[key]= records[key];\\r\\n\\t\\t}\\r\\n\\t\\t\\r\\n\\t\\treturn frecords;\\r\\n\\t},\\r\\n\\r\\n\\tshowTooltip: function(records) {\\r\\n\\t\\t\\r\\n\\r\\n\\t\\tthis._countertips = 0;\\r\\n\\t\\tthis._tooltip.innerHTML = '';\\r\\n\\t\\tthis._tooltip.currentSelection = -1;  \\/\\/inizialized for _handleArrowSelect()\\r\\n\\r\\n\\t\\tif(this.options.tooltipLimit)\\r\\n\\t\\t{\\r\\n\\t\\t\\tfor (let key in records)\\/\\/fill tooltip\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\tif(this._countertips === this.options.tooltipLimit)\\r\\n\\t\\t\\t\\t\\tbreak;\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\tthis._countertips++;\\r\\n\\r\\n\\t\\t\\t\\tthis._tooltip.appendChild( this._createTip(key, records[key]) );\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t\\t\\r\\n\\t\\tif(this._countertips > 0)\\r\\n\\t\\t{\\r\\n\\t\\t\\tthis._tooltip.style.display = 'block';\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tif(this._autoTypeTmp)\\r\\n\\t\\t\\t\\tthis._autoType();\\r\\n\\r\\n\\t\\t\\tthis._autoTypeTmp = this.options.autoType;\\/\\/reset default value\\r\\n\\t\\t}\\r\\n\\t\\telse\\r\\n\\t\\t\\tthis._hideTooltip();\\r\\n\\r\\n\\t\\tthis._tooltip.scrollTop = 0;\\r\\n\\r\\n\\t\\treturn this._countertips;\\r\\n\\t},\\r\\n\\r\\n\\t_hideTooltip: function() {\\r\\n\\t\\tthis._tooltip.style.display = 'none';\\r\\n\\t\\tthis._tooltip.innerHTML = '';\\r\\n\\t\\treturn 0;\\r\\n\\t},\\r\\n\\r\\n\\t_defaultFormatData: function(json) {\\t\\/\\/default callback for format data to indexed data\\r\\n\\t\\tvar self = this,\\r\\n\\t\\t\\tpropName = this.options.propertyName,\\r\\n\\t\\t\\tpropLoc = this.options.propertyLoc,\\r\\n\\t\\t\\tjsonret = {};\\r\\n\\r\\n\\t\\tif( L.Util.isArray(propLoc) )\\r\\n\\t\\t\\tfor (let i in json)\\r\\n\\t\\t\\t\\tjsonret[ self._getPath(json[i],propName) ]= L.latLng( json[i][ propLoc[0] ], json[i][ propLoc[1] ] );\\r\\n\\t\\telse\\r\\n\\t\\t\\tfor (let i in json)\\r\\n\\t\\t\\t\\tjsonret[ self._getPath(json[i],propName) ]= L.latLng( self._getPath(json[i],propLoc) );\\r\\n\\t\\t\\/\\/TODO throw new Error(\\\"propertyName '\\\"+propName+\\\"' not found in JSON data\\\");\\r\\n\\t\\treturn jsonret;\\r\\n\\t},\\r\\n\\r\\n\\t_recordsFromJsonp: function(text, callAfter) {  \\/\\/extract searched records from remote jsonp service\\r\\n\\t\\tL.Control.Search.callJsonp = callAfter;\\r\\n\\t\\tvar script = L.DomUtil.create('script','leaflet-search-jsonp', document.getElementsByTagName('body')[0] ),\\t\\t\\t\\r\\n\\t\\t\\turl = L.Util.template(this._getUrl(text)+'&'+this.options.jsonpParam+'=L.Control.Search.callJsonp', {s: text}); \\/\\/parsing url\\r\\n\\t\\t\\t\\/\\/rnd = '&_='+Math.floor(Math.random()*10000);\\r\\n\\t\\t\\t\\/\\/TODO add rnd param or randomize callback name! in recordsFromJsonp\\r\\n\\t\\tscript.type = 'text\\/javascript';\\r\\n\\t\\tscript.src = url;\\r\\n\\t\\treturn { abort: function() { script.parentNode.removeChild(script); } };\\r\\n\\t},\\r\\n\\r\\n\\t_recordsFromAjax: function(text, callAfter) {\\t\\/\\/Ajax request\\r\\n\\t\\tif (window.XMLHttpRequest === undefined) {\\r\\n\\t\\t\\twindow.XMLHttpRequest = function() {\\r\\n\\t\\t\\t\\ttry { return new ActiveXObject(\\\"Microsoft.XMLHTTP.6.0\\\"); }\\r\\n\\t\\t\\t\\tcatch  (e1) {\\r\\n\\t\\t\\t\\t\\ttry { return new ActiveXObject(\\\"Microsoft.XMLHTTP.3.0\\\"); }\\r\\n\\t\\t\\t\\t\\tcatch (e2) { throw new Error(\\\"XMLHttpRequest is not supported\\\"); }\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t};\\r\\n\\t\\t}\\r\\n\\t\\tvar IE8or9 = ( L.Browser.ie && !window.atob && document.querySelector ),\\r\\n\\t\\t\\trequest = IE8or9 ? new XDomainRequest() : new XMLHttpRequest(),\\r\\n\\t\\t\\turl = L.Util.template(this._getUrl(text), {s: text});\\r\\n\\r\\n\\t\\t\\/\\/rnd = '&_='+Math.floor(Math.random()*10000);\\r\\n\\t\\t\\/\\/TODO add rnd param or randomize callback name! in recordsFromAjax\\t\\t\\t\\r\\n\\t\\t\\r\\n\\t\\trequest.open(\\\"GET\\\", url);\\r\\n\\t\\t\\r\\n\\r\\n\\t\\trequest.onload = function() {\\r\\n\\t\\t\\tcallAfter( JSON.parse(request.responseText) );\\r\\n\\t\\t};\\r\\n\\t\\trequest.onreadystatechange = function() {\\r\\n\\t\\t    if(request.readyState === 4 && request.status === 200) {\\r\\n\\t\\t    \\tthis.onload();\\r\\n\\t\\t    }\\r\\n\\t\\t};\\r\\n\\r\\n\\t\\trequest.send();\\r\\n\\t\\treturn request;   \\r\\n\\t},\\r\\n\\r\\n  _searchInLayer: function(layer, retRecords, propName) {\\r\\n    var self = this, loc;\\r\\n\\r\\n    if(layer instanceof L.Control.Search.Marker) return;\\r\\n\\r\\n    if(layer instanceof L.Marker || layer instanceof L.CircleMarker)\\r\\n    {\\r\\n      if(self._getPath(layer.options,propName))\\r\\n      {\\r\\n        loc = layer.getLatLng();\\r\\n        loc.layer = layer;\\r\\n        retRecords[ self._getPath(layer.options,propName) ] = loc;\\r\\n      }\\r\\n      else if(self._getPath(layer.feature.properties,propName))\\r\\n      {\\r\\n        loc = layer.getLatLng();\\r\\n        loc.layer = layer;\\r\\n        retRecords[ self._getPath(layer.feature.properties,propName) ] = loc;\\r\\n      }\\r\\n      else {\\r\\n        \\/\\/throw new Error(\\\"propertyName '\\\"+propName+\\\"' not found in marker\\\"); \\r\\n        console.warn(\\\"propertyName '\\\"+propName+\\\"' not found in marker\\\"); \\r\\n      }\\r\\n    }\\r\\n    else if(layer instanceof L.Path || layer instanceof L.Polyline || layer instanceof L.Polygon)\\r\\n    {\\r\\n      if(self._getPath(layer.options,propName))\\r\\n      {\\r\\n        loc = layer.getBounds().getCenter();\\r\\n        loc.layer = layer;\\r\\n        retRecords[ self._getPath(layer.options,propName) ] = loc;\\r\\n      }\\r\\n      else if(self._getPath(layer.feature.properties,propName))\\r\\n      {\\r\\n        loc = layer.getBounds().getCenter();\\r\\n        loc.layer = layer;\\r\\n        retRecords[ self._getPath(layer.feature.properties,propName) ] = loc;\\r\\n      }\\r\\n      else {\\r\\n        \\/\\/throw new Error(\\\"propertyName '\\\"+propName+\\\"' not found in shape\\\"); \\r\\n        console.warn(\\\"propertyName '\\\"+propName+\\\"' not found in shape\\\"); \\r\\n      }\\r\\n    }\\r\\n    else if(layer.hasOwnProperty('feature'))\\/\\/GeoJSON\\r\\n    {\\r\\n      if(layer.feature.properties.hasOwnProperty(propName))\\r\\n      {\\r\\n        if(layer.getLatLng && typeof layer.getLatLng === 'function') {\\r\\n          loc = layer.getLatLng();\\r\\n          loc.layer = layer;\\t\\t\\t\\r\\n          retRecords[ layer.feature.properties[propName] ] = loc;\\r\\n        } else if(layer.getBounds && typeof layer.getBounds === 'function') {\\r\\n          loc = layer.getBounds().getCenter();\\r\\n          loc.layer = layer;\\t\\t\\t\\r\\n          retRecords[ layer.feature.properties[propName] ] = loc;\\r\\n        } else {\\r\\n          console.warn(\\\"Unknown type of Layer\\\");\\r\\n        }\\r\\n      }\\r\\n      else {\\r\\n        \\/\\/throw new Error(\\\"propertyName '\\\"+propName+\\\"' not found in feature\\\");\\r\\n        console.warn(\\\"propertyName '\\\"+propName+\\\"' not found in feature\\\"); \\r\\n      }\\r\\n    }\\r\\n    else if(layer instanceof L.LayerGroup)\\r\\n    {\\r\\n      layer.eachLayer(function (layer) {\\r\\n        self._searchInLayer(layer, retRecords, propName);\\r\\n      });\\r\\n    }\\r\\n  },\\r\\n\\t\\r\\n\\t_recordsFromLayer: function() {\\t\\/\\/return table: key,value from layer\\r\\n\\t\\tvar self = this,\\r\\n\\t\\t\\tretRecords = {},\\r\\n\\t\\t\\tpropName = this.options.propertyName;\\r\\n\\t\\t\\r\\n\\t\\tthis._layer.eachLayer(function (layer) {\\r\\n\\t\\t\\tself._searchInLayer(layer, retRecords, propName);\\r\\n\\t\\t});\\r\\n\\t\\t\\r\\n\\t\\treturn retRecords;\\r\\n\\t},\\r\\n\\t\\r\\n\\t_autoType: function() {\\r\\n\\t\\t\\r\\n\\t\\t\\/\\/TODO implements autype without selection(useful for mobile device)\\r\\n\\t\\t\\r\\n\\t\\tvar start = this._input.value.length,\\r\\n\\t\\t\\tfirstRecord = this._tooltip.firstChild ? this._tooltip.firstChild._text : '',\\r\\n\\t\\t\\tend = firstRecord.length;\\r\\n\\r\\n\\t\\tif (firstRecord.indexOf(this._input.value) === 0) { \\/\\/ If prefix match\\r\\n\\t\\t\\tthis._input.value = firstRecord;\\r\\n\\t\\t\\tthis._handleAutoresize();\\r\\n\\r\\n\\t\\t\\tif (this._input.createTextRange) {\\r\\n\\t\\t\\t\\tvar selRange = this._input.createTextRange();\\r\\n\\t\\t\\t\\tselRange.collapse(true);\\r\\n\\t\\t\\t\\tselRange.moveStart('character', start);\\r\\n\\t\\t\\t\\tselRange.moveEnd('character', end);\\r\\n\\t\\t\\t\\tselRange.select();\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\telse if(this._input.setSelectionRange) {\\r\\n\\t\\t\\t\\tthis._input.setSelectionRange(start, end);\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\telse if(this._input.selectionStart) {\\r\\n\\t\\t\\t\\tthis._input.selectionStart = start;\\r\\n\\t\\t\\t\\tthis._input.selectionEnd = end;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\r\\n\\t_hideAutoType: function() {\\t\\/\\/ deselect text:\\r\\n\\r\\n\\t\\tvar sel;\\r\\n\\t\\tif ((sel = this._input.selection) && sel.empty) {\\r\\n\\t\\t\\tsel.empty();\\r\\n\\t\\t}\\r\\n\\t\\telse if (this._input.createTextRange) {\\r\\n\\t\\t\\tsel = this._input.createTextRange();\\r\\n\\t\\t\\tsel.collapse(true);\\r\\n\\t\\t\\tvar end = this._input.value.length;\\r\\n\\t\\t\\tsel.moveStart('character', end);\\r\\n\\t\\t\\tsel.moveEnd('character', end);\\r\\n\\t\\t\\tsel.select();\\r\\n\\t\\t}\\r\\n\\t\\telse {\\r\\n\\t\\t\\tif (this._input.getSelection) {\\r\\n\\t\\t\\t\\tthis._input.getSelection().removeAllRanges();\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tthis._input.selectionStart = this._input.selectionEnd;\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\t\\r\\n\\t_handleKeypress: function (e) {\\t\\/\\/run _input keyup event\\r\\n\\t\\tvar self = this;\\r\\n\\r\\n\\t\\tswitch(e.keyCode)\\r\\n\\t\\t{\\r\\n\\t\\t\\tcase 27:\\/\\/Esc\\r\\n\\t\\t\\t\\tthis.collapse();\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t\\tcase 13:\\/\\/Enter\\r\\n\\t\\t\\t\\tif(this._countertips == 1 || (this.options.firstTipSubmit && this._countertips > 0)) {\\r\\n          \\t\\t\\tif(this._tooltip.currentSelection == -1) {\\r\\n\\t\\t\\t\\t\\t\\tthis._handleArrowSelect(1);\\r\\n          \\t\\t\\t}\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\tthis._handleSubmit();\\t\\/\\/do search\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t\\tcase 38:\\/\\/Up\\r\\n\\t\\t\\t\\tthis._handleArrowSelect(-1);\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t\\tcase 40:\\/\\/Down\\r\\n\\t\\t\\t\\tthis._handleArrowSelect(1);\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t\\tcase  8:\\/\\/Backspace\\r\\n\\t\\t\\tcase 45:\\/\\/Insert\\r\\n\\t\\t\\tcase 46:\\/\\/Delete\\r\\n\\t\\t\\t\\tthis._autoTypeTmp = false;\\/\\/disable temporarily autoType\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t\\tcase 37:\\/\\/Left\\r\\n\\t\\t\\tcase 39:\\/\\/Right\\r\\n\\t\\t\\tcase 16:\\/\\/Shift\\r\\n\\t\\t\\tcase 17:\\/\\/Ctrl\\r\\n\\t\\t\\tcase 35:\\/\\/End\\r\\n\\t\\t\\tcase 36:\\/\\/Home\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t\\tdefault:\\/\\/All keys\\r\\n\\t\\t\\t\\tif(this._input.value.length)\\r\\n\\t\\t\\t\\t\\tthis._cancel.style.display = 'block';\\r\\n\\t\\t\\t\\telse\\r\\n\\t\\t\\t\\t\\tthis._cancel.style.display = 'none';\\r\\n\\r\\n\\t\\t\\t\\tif(this._input.value.length >= this.options.minLength)\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tclearTimeout(this.timerKeypress);\\t\\/\\/cancel last search request while type in\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\tthis.timerKeypress = setTimeout(function() {\\t\\/\\/delay before request, for limit jsonp\\/ajax request\\r\\n\\r\\n\\t\\t\\t\\t\\t\\tself._fillRecordsCache();\\r\\n\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t}, this.options.delayType);\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\telse\\r\\n\\t\\t\\t\\t\\tthis._hideTooltip();\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tthis._handleAutoresize();\\r\\n\\t},\\r\\n\\r\\n\\tsearchText: function(text) {\\r\\n\\t\\tvar code = text.charCodeAt(text.length);\\r\\n\\r\\n\\t\\tthis._input.value = text;\\r\\n\\r\\n\\t\\tthis._input.style.display = 'block';\\r\\n\\t\\tL.DomUtil.addClass(this._container, 'search-exp');\\r\\n\\r\\n\\t\\tthis._autoTypeTmp = false;\\r\\n\\r\\n\\t\\tthis._handleKeypress({keyCode: code});\\r\\n\\t},\\r\\n\\t\\r\\n\\t_fillRecordsCache: function() {\\r\\n\\r\\n\\t\\tvar self = this,\\r\\n\\t\\t\\tinputText = this._input.value, records;\\r\\n\\r\\n\\t\\tif(this._curReq && this._curReq.abort)\\r\\n\\t\\t\\tthis._curReq.abort();\\r\\n\\t\\t\\/\\/abort previous requests\\r\\n\\r\\n\\t\\tL.DomUtil.addClass(this._container, 'search-load');\\t\\r\\n\\r\\n\\t\\tif(this.options.layer)\\r\\n\\t\\t{\\r\\n\\t\\t\\t\\/\\/TODO _recordsFromLayer must return array of objects, formatted from _formatData\\r\\n\\t\\t\\tthis._recordsCache = this._recordsFromLayer();\\r\\n\\t\\t\\t\\r\\n\\t\\t\\trecords = this._filterData( this._input.value, this._recordsCache );\\r\\n\\r\\n\\t\\t\\tthis.showTooltip( records );\\r\\n\\r\\n\\t\\t\\tL.DomUtil.removeClass(this._container, 'search-load');\\r\\n\\t\\t}\\r\\n\\t\\telse\\r\\n\\t\\t{\\r\\n\\t\\t\\tif(this.options.sourceData)\\r\\n\\t\\t\\t\\tthis._retrieveData = this.options.sourceData;\\r\\n\\r\\n\\t\\t\\telse if(this.options.url)\\t\\/\\/jsonp or ajax\\r\\n\\t\\t\\t\\tthis._retrieveData = this.options.jsonpParam ? this._recordsFromJsonp : this._recordsFromAjax;\\r\\n\\r\\n\\t\\t\\tthis._curReq = this._retrieveData.call(this, inputText, function(data) {\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\tself._recordsCache = self._formatData.call(self, data);\\r\\n\\r\\n\\t\\t\\t\\t\\/\\/TODO refact!\\r\\n\\t\\t\\t\\tif(self.options.sourceData)\\r\\n\\t\\t\\t\\t\\trecords = self._filterData( self._input.value, self._recordsCache );\\r\\n\\t\\t\\t\\telse\\r\\n\\t\\t\\t\\t\\trecords = self._recordsCache;\\r\\n\\r\\n\\t\\t\\t\\tself.showTooltip( records );\\r\\n \\r\\n\\t\\t\\t\\tL.DomUtil.removeClass(self._container, 'search-load');\\r\\n\\t\\t\\t});\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\t\\r\\n\\t_handleAutoresize: function() {\\r\\n\\t    var maxWidth;\\r\\n\\r\\n\\t\\tif (this._input.style.maxWidth !== this._map._container.offsetWidth) {\\r\\n\\t\\t\\tmaxWidth = this._map._container.clientWidth;\\r\\n\\r\\n\\t\\t\\t\\/\\/ other side margin + padding + width border + width search-button + width search-cancel\\r\\n\\t\\t\\tmaxWidth -= 10 + 20 + 1 + 30 + 22; \\r\\n\\r\\n\\t\\t\\tthis._input.style.maxWidth = maxWidth.toString() + 'px';\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tif (this.options.autoResize && (this._container.offsetWidth + 20 < this._map._container.offsetWidth)) {\\r\\n\\t\\t\\tthis._input.size = this._input.value.length < this._inputMinSize ? this._inputMinSize : this._input.value.length;\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\r\\n\\t_handleArrowSelect: function(velocity) {\\r\\n\\t\\r\\n\\t\\tvar searchTips = this._tooltip.hasChildNodes() ? this._tooltip.childNodes : [];\\r\\n\\t\\t\\t\\r\\n\\t\\tfor (let i=0; i<searchTips.length; i++) {\\r\\n\\t\\t\\tL.DomUtil.removeClass(searchTips[i], 'search-tip-select');\\r\\n\\t\\t}\\r\\n\\t\\t\\r\\n\\t\\tif ((velocity == 1 ) && (this._tooltip.currentSelection >= (searchTips.length - 1))) {\\/\\/ If at end of list.\\r\\n\\t\\t\\tL.DomUtil.addClass(searchTips[this._tooltip.currentSelection], 'search-tip-select');\\r\\n\\t\\t}\\r\\n\\t\\telse if ((velocity == -1 ) && (this._tooltip.currentSelection <= 0)) { \\/\\/ Going back up to the search box.\\r\\n\\t\\t\\tthis._tooltip.currentSelection = -1;\\r\\n\\t\\t}\\r\\n\\t\\telse if (this._tooltip.style.display != 'none') {\\r\\n\\t\\t\\tthis._tooltip.currentSelection += velocity;\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tL.DomUtil.addClass(searchTips[this._tooltip.currentSelection], 'search-tip-select');\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tthis._input.value = searchTips[this._tooltip.currentSelection]._text;\\r\\n\\r\\n\\t\\t\\t\\/\\/ scroll:\\r\\n\\t\\t\\tvar tipOffsetTop = searchTips[this._tooltip.currentSelection].offsetTop;\\r\\n\\t\\t\\t\\r\\n\\t\\t\\tif (tipOffsetTop + searchTips[this._tooltip.currentSelection].clientHeight >= this._tooltip.scrollTop + this._tooltip.clientHeight) {\\r\\n\\t\\t\\t\\tthis._tooltip.scrollTop = tipOffsetTop - this._tooltip.clientHeight + searchTips[this._tooltip.currentSelection].clientHeight;\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\telse if (tipOffsetTop <= this._tooltip.scrollTop) {\\r\\n\\t\\t\\t\\tthis._tooltip.scrollTop = tipOffsetTop;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\r\\n\\t_handleSubmit: function() {\\t\\/\\/button and tooltip click and enter submit\\r\\n\\r\\n\\t\\tthis._hideAutoType();\\r\\n\\t\\t\\r\\n\\t\\tthis.hideAlert();\\r\\n\\t\\tthis._hideTooltip();\\r\\n\\r\\n\\t\\tif(this._input.style.display == 'none')\\t\\/\\/on first click show _input only\\r\\n\\t\\t\\tthis.expand();\\r\\n\\t\\telse\\r\\n\\t\\t{\\r\\n\\t\\t\\tif(this._input.value === '')\\t\\/\\/hide _input only\\r\\n\\t\\t\\t\\tthis.collapse();\\r\\n\\t\\t\\telse\\r\\n\\t\\t\\t{\\r\\n\\t\\t\\t\\tvar loc = this._getLocation(this._input.value);\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\tif(loc===false)\\r\\n\\t\\t\\t\\t\\tthis.showAlert();\\r\\n\\t\\t\\t\\telse\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tthis.showLocation(loc, this._input.value);\\r\\n\\t\\t\\t\\t\\tthis.fire('search:locationfound', {\\r\\n\\t\\t\\t\\t\\t\\t\\tlatlng: loc,\\r\\n\\t\\t\\t\\t\\t\\t\\ttext: this._input.value,\\r\\n\\t\\t\\t\\t\\t\\t\\tlayer: loc.layer ? loc.layer : null\\r\\n\\t\\t\\t\\t\\t\\t});\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\r\\n\\t_getLocation: function(key) {\\t\\/\\/extract latlng from _recordsCache\\r\\n\\r\\n\\t\\tif( this._recordsCache.hasOwnProperty(key) )\\r\\n\\t\\t\\treturn this._recordsCache[key];\\/\\/then after use .loc attribute\\r\\n\\t\\telse\\r\\n\\t\\t\\treturn false;\\r\\n\\t},\\r\\n\\r\\n\\t_defaultMoveToLocation: function(latlng, title, map) {\\r\\n\\t\\tif(this.options.zoom)\\r\\n \\t\\t\\tthis._map.setView(latlng, this.options.zoom);\\r\\n \\t\\telse\\r\\n\\t\\t\\tthis._map.panTo(latlng);\\r\\n\\t},\\r\\n\\r\\n\\tshowLocation: function(latlng, title) {\\t\\/\\/set location on map from _recordsCache\\r\\n\\t\\tvar self = this;\\r\\n\\r\\n\\t\\tself._map.once('moveend zoomend', function(e) {\\r\\n\\r\\n\\t\\t\\tif(self._markerSearch) {\\r\\n\\t\\t\\t\\tself._markerSearch.addTo(self._map).setLatLng(latlng);\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\t\\r\\n\\t\\t});\\r\\n\\r\\n\\t\\tself._moveToLocation(latlng, title, self._map);\\r\\n\\t\\t\\/\\/FIXME autoCollapse option hide self._markerSearch before visualized!!\\r\\n\\t\\tif(self.options.autoCollapse)\\r\\n\\t\\t\\tself.collapse();\\r\\n\\r\\n\\t\\treturn self;\\r\\n\\t}\\r\\n});\\r\\n\\r\\nL.Control.Search.Marker = L.Marker.extend({\\r\\n\\r\\n\\tincludes: L.version[0]==='1' ? L.Evented.prototype : L.Mixin.Events,\\r\\n\\t\\r\\n\\toptions: {\\r\\n\\t\\ticon: new L.Icon.Default(),\\r\\n\\t\\tanimate: true,\\r\\n\\t\\tcircle: {\\r\\n\\t\\t\\tradius: 10,\\r\\n\\t\\t\\tweight: 3,\\r\\n\\t\\t\\tcolor: '#e03',\\r\\n\\t\\t\\tstroke: true,\\r\\n\\t\\t\\tfill: false\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\t\\r\\n\\tinitialize: function (latlng, options) {\\r\\n\\t\\tL.setOptions(this, options);\\r\\n\\r\\n\\t\\tif(options.icon === true)\\r\\n\\t\\t\\toptions.icon = new L.Icon.Default();\\r\\n\\r\\n\\t\\tL.Marker.prototype.initialize.call(this, latlng, options);\\r\\n\\t\\t\\r\\n\\t\\tif( L.Control.Search.prototype._isObject(this.options.circle) )\\r\\n\\t\\t\\tthis._circleLoc = new L.CircleMarker(latlng, this.options.circle);\\r\\n\\t},\\r\\n\\r\\n\\tonAdd: function (map) {\\r\\n\\t\\tL.Marker.prototype.onAdd.call(this, map);\\r\\n\\t\\tif(this._circleLoc) {\\r\\n\\t\\t\\tmap.addLayer(this._circleLoc);\\r\\n\\t\\t\\tif(this.options.animate)\\r\\n\\t\\t\\t\\tthis.animate();\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\r\\n\\tonRemove: function (map) {\\r\\n\\t\\tL.Marker.prototype.onRemove.call(this, map);\\r\\n\\t\\tif(this._circleLoc)\\r\\n\\t\\t\\tmap.removeLayer(this._circleLoc);\\r\\n\\t},\\r\\n\\t\\r\\n\\tsetLatLng: function (latlng) {\\r\\n\\t\\tL.Marker.prototype.setLatLng.call(this, latlng);\\r\\n\\t\\tif(this._circleLoc)\\r\\n\\t\\t\\tthis._circleLoc.setLatLng(latlng);\\r\\n\\t\\treturn this;\\r\\n\\t},\\r\\n\\t\\r\\n\\t_initIcon: function () {\\r\\n\\t\\tif(this.options.icon)\\r\\n\\t\\t\\tL.Marker.prototype._initIcon.call(this);\\r\\n\\t},\\r\\n\\r\\n\\t_removeIcon: function () {\\r\\n\\t\\tif(this.options.icon)\\r\\n\\t\\t\\tL.Marker.prototype._removeIcon.call(this);\\r\\n\\t},\\r\\n\\r\\n\\tanimate: function() {\\r\\n\\t\\/\\/TODO refact animate() more smooth! like this: http:\\/\\/goo.gl\\/DDlRs\\r\\n\\t\\tif(this._circleLoc)\\r\\n\\t\\t{\\r\\n\\t\\t\\tvar circle = this._circleLoc,\\r\\n\\t\\t\\t\\ttInt = 200,\\t\\/\\/time interval\\r\\n\\t\\t\\t\\tss = 5,\\t\\/\\/frames\\r\\n\\t\\t\\t\\tmr = parseInt(circle._radius\\/ss),\\r\\n\\t\\t\\t\\toldrad = this.options.circle.radius,\\r\\n\\t\\t\\t\\tnewrad = circle._radius * 2,\\r\\n\\t\\t\\t\\tacc = 0;\\r\\n\\r\\n\\t\\t\\tcircle._timerAnimLoc = setInterval(function() {\\r\\n\\t\\t\\t\\tacc += 0.5;\\r\\n\\t\\t\\t\\tmr += acc;\\t\\/\\/adding acceleration\\r\\n\\t\\t\\t\\tnewrad -= mr;\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\tcircle.setRadius(newrad);\\r\\n\\r\\n\\t\\t\\t\\tif(newrad<oldrad)\\r\\n\\t\\t\\t\\t{\\r\\n\\t\\t\\t\\t\\tclearInterval(circle._timerAnimLoc);\\r\\n\\t\\t\\t\\t\\tcircle.setRadius(oldrad);\\/\\/reset radius\\r\\n\\t\\t\\t\\t\\t\\/\\/if(typeof afterAnimCall == 'function')\\r\\n\\t\\t\\t\\t\\t\\t\\/\\/afterAnimCall();\\r\\n\\t\\t\\t\\t\\t\\t\\/\\/TODO use create event 'animateEnd' in L.Control.Search.Marker \\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}, tInt);\\r\\n\\t\\t}\\r\\n\\t\\t\\r\\n\\t\\treturn this;\\r\\n\\t}\\r\\n});\\r\\n\\r\\nL.Map.addInitHook(function () {\\r\\n    if (this.options.searchControl) {\\r\\n        this.searchControl = L.control.search(this.options.searchControl);\\r\\n        this.addControl(this.searchControl);\\r\\n    }\\r\\n});\\r\\n\\r\\nL.control.search = function (options) {\\r\\n    return new L.Control.Search(options);\\r\\n};\\r\\n\\r\\nreturn L.Control.Search;\\r\\n\\r\\n});\\r\\n\\r\\n\\r\\n\\r\\n<\\/script>\\r\\n<script>\\r\\n\\r\\n\\tvar map = new L.Map('map', {zoom: 9, center: new L.latLng([41.575730,13.002411]) });\\r\\n\\r\\n\\tmap.addLayer(new L.TileLayer('https:\\/\\/{s}.tile.openstreetmap.org\\/{z}\\/{x}\\/{y}.png'));\\t\\/\\/base layer\\r\\n\\r\\n\\tfunction searchByAjax(text, callResponse)\\/\\/callback for 3rd party ajax requests\\r\\n\\t{\\r\\n\\t\\treturn $.ajax({\\r\\n\\t\\t\\turl: 'https:\\/\\/www.thehealthassistant.cf\\/wp-content\\/themes\\/astra-child\\/testSearchMap.php',\\t\\/\\/read comments in search.php for more information usage\\r\\n\\t\\t\\ttype: 'GET',\\r\\n\\t\\t\\tdata: {q: text},\\r\\n\\t\\t\\tdataType: 'json',\\r\\n\\t\\t\\tsuccess: function(json) {\\r\\n\\t\\t\\t\\tcallResponse(json);\\r\\n\\t\\t\\t}\\r\\n\\t\\t});\\r\\n\\t}\\r\\n\\r\\n\\tmap.addControl( new L.Control.Search({sourceData: searchByAjax, text:'Color...', markerLocation: true}) );\\r\\n\\r\\n<\\/script>\\r\\n\\r\\n<div id=\\\"copy\\\"><a href=\\\"https:\\/\\/opengeo.tech\\/\\\">Website<\\/a> &bull; <a rel=\\\"author\\\" href=\\\"https:\\/\\/opengeo.tech\\/stefano-cudini\\/\\\">Stefano Cudini<\\/a><\\/div>\\r\\n\\r\\n<script type=\\\"text\\/javascript\\\" src=\\\"\\/labs-common.js\\\"><\\/script>\\r\\n\\r\\n<\\/body>\\r\\n<\\/html>\\r\\n\"},\"elements\":[],\"widgetType\":\"html\"}],\"isInner\":false}],\"isInner\":false}]"
_elementor_page_assets#32F672D365434BDF9768212FF185DDAA = <<<serialized>>> <array>
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128 = <<<serialized>>> <array>
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128["time"] = 1631240180
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128["fonts"] = <array>
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128["icons"] = <array>
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128["dynamic_elements_ids"] = <array>
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128["status"] = "empty"
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128[0] = ""
_elementor_css#3A8E94ABF0CD4D4EAB76501CC7C51128["css"] = ""
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3 = <<<serialized>>> <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["html"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["html"]["count"] = 2
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["html"]["control_percent"] = 0
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["html"]["controls"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["html"]["controls"]["content"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["html"]["controls"]["content"]["section_title"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["html"]["controls"]["content"]["section_title"]["html"] = 2
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["column"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["column"]["count"] = 3
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["column"]["control_percent"] = 0
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["column"]["controls"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["column"]["controls"]["layout"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["column"]["controls"]["layout"]["layout"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["column"]["controls"]["layout"]["layout"]["_inline_size"] = 3
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["section"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["section"]["count"] = 3
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["section"]["control_percent"] = 0
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["section"]["controls"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["shortcode"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["shortcode"]["count"] = 1
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["shortcode"]["control_percent"] = 0
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["shortcode"]["controls"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["shortcode"]["controls"]["content"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["shortcode"]["controls"]["content"]["section_shortcode"] = <array>
_elementor_controls_usage#45247E1325FA4549AAE7AED216BA5FD3["shortcode"]["controls"]["content"]["section_shortcode"]["shortcode"] = 1
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5 = <<<serialized>>> <array>
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5["time"] = 1633607066
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5["fonts"] = <array>
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5["icons"] = <array>
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5["dynamic_elements_ids"] = <array>
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5["status"] = "empty"
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5[0] = ""
_elementor_css#FCB98E239CD84AF095937BCA83B6DBA5["css"] = ""
